(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{132:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),i=n(10),s=n.n(i),o=(n(132),n(90)),l=n(91),u=n(116),d=n(113),j=n(12),p=n(32),b=n(15),O=n(216),x=n(17),m=n(2),f=function(e){var t=e.showNav;return Object(c.useEffect)((function(){return t(!1),function(){t(!0)}}),[]),Object(m.jsx)(m.Fragment,{children:"No page on this path!"})},h=n(11),g=n(4),v=n(208),y=n(210),k=n(211),w=n(212),N=n(213),S=n(47),C=n(214),F=n(215),L=n(99),D=n.n(L),E=n(205),P=n(100),I=n.n(P),W=n(101),T=n.n(W),R=n(76),_=n.n(R),A=n(68),U=n(98),B=n.n(U),H=n(66),M=n.n(H),G=n(25),z=n.n(G),V=n(39),X=n(37),q=n.n(X),J=function(e,t){return q.a.patch("/products/".concat(e),t)},K=function(e){return q.a.delete("/products/".concat(e))},Q=function(e){return{type:"SHOW",payload:e}},Y=function(){return{type:"HIDE"}};!function(e){e.success="The product was added succesfully!",e.fail="Something went wrong...",e.conflict="Product name is already in used!",e.multisuccess="Products added succesfully!"}(a||(a={}));var Z,$,ee=a,te=function(){return function(){var e=Object(V.a)(z.a.mark((function e(t){var n,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.get("/products");case 3:n=e.sent,a=n.data,t({type:"GET",payload:a.products}),t(ne()),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"GET",payload:[]}),t(ne()),t(Y()),t(Q({message:"Connection failed",variant:"error"})),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ne=function(){return{type:"LOADED"}},ae=function(){return{type:"DUMP"}},ce=te,re=function(e){return function(){var t=Object(V.a)(z.a.mark((function t(n){var a,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e,q.a.post("/products/add-product",r);case 3:a=t.sent,"success"===(c=a.data).status?(console.log(c.status),n(Y()),n(Q({message:c.message,variant:"success"}))):(n(Y()),n(Q({message:c.message,variant:"warning"}))),console.log(c),n(ae()),n({type:"ADD-PRODUCT",payload:c}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),"Request failed with status code 409"===t.t0.message?n(Q({message:ee.conflict,variant:"error"})):n(Q({message:ee.fail,variant:"error"})),console.log(t.t0.message);case 15:case"end":return t.stop()}var r}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},ie=function(e){return function(){var t=Object(V.a)(z.a.mark((function t(n){var a,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e,q.a.post("/products/add-products",r);case 3:a=t.sent,"success"===(c=a.data).status?(n(Y()),n(Q({message:c.message,variant:"success"}))):(n(Y()),n(Q({message:c.message,variant:"warning"}))),console.log(c),n(ae()),n({type:"ADD-PRODUCTS",payload:c}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),"Request failed with status code 409"===t.t0.message?(n(Y()),n(Q({message:ee.conflict,variant:"error"}))):(n(Y()),n(Q({message:ee.fail,variant:"error"}))),console.log(t.t0.message);case 15:case"end":return t.stop()}var r}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},se=function(e,t){return function(){var n=Object(V.a)(z.a.mark((function n(a){var c,r;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,J(e,t);case 3:c=n.sent,r=c.data,console.log(r),"success"===r.status?(a(Y()),a(Q({message:r.message,variant:"success"}))):(a(Y()),a(Q({message:r.message,variant:"warning"}))),a({type:"UPDATE",payload:r}),a(te()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),a(Y()),a(Q({message:ee.fail,variant:"error"})),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},oe=function(e){return function(){var t=Object(V.a)(z.a.mark((function t(n){var a,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K(e);case 3:a=t.sent,c=a.data,console.log(c),"success"===c.status?(n(Y()),n(Q({message:c.message,variant:"success"}))):(n(Y()),n(Q({message:c.message,variant:"warning"}))),n({type:"DELETE",payload:e}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},le=Object(E.a)((function(e){return{root:Object(h.a)({width:"100%"},e.breakpoints.up("md"),{maxWidth:345}),media:{display:"flex",height:0,paddingTop:"56.25%",justifyContent:"center",alignItems:"center"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:A.a[500]},description:{overflow:"hidden"},icon:{top:"-90px",position:"relative"}}})),ue=function(e){var t=Object(x.b)(),n=Object(x.c)((function(e){return e.isLogged})),a=le(),r=e._id,i=e.name,s=e.description,o=e.details,l=(e.promotion,e.price),u=(e.piecesLeft,e.active),d=e.src,b=Object(c.useState)(!1),O=Object(j.a)(b,2),f=O[0],L=O[1];return Object(m.jsxs)(v.a,{className:a.root,children:[Object(m.jsx)(y.a,{action:u?Object(m.jsx)(p.b,{to:"/admin/product/".concat(r),children:Object(m.jsx)(k.a,{"aria-label":"settings",children:Object(m.jsx)(_.a,{})})}):Object(m.jsx)(k.a,{"aria-label":"settings",children:Object(m.jsx)(_.a,{})}),title:i,subheader:"".concat(l," RON")}),Object(m.jsx)(w.a,{className:a.media,children:d?null:Object(m.jsx)(B.a,{className:a.icon}),image:d,title:"asd"}),Object(m.jsx)(N.a,{className:a.description,children:Object(m.jsx)(S.a,{variant:"body2",display:"block",color:"textSecondary",component:"p",children:s})}),Object(m.jsxs)(C.a,{disableSpacing:!0,children:[n?Object(m.jsx)(k.a,{"aria-label":"add to favorites",children:Object(m.jsx)(D.a,{})}):null,Object(m.jsx)(k.a,{"aria-label":"delete",onClick:function(){return e=r,void(u&&t(oe(e)));var e},children:Object(m.jsx)(M.a,{})}),Object(m.jsx)(k.a,{"aria-label":"share",children:Object(m.jsx)(I.a,{})}),o?Object(m.jsx)(k.a,{className:Object(g.a)(a.expand,Object(h.a)({},a.expandOpen,f)),onClick:function(){L(!f)},"aria-expanded":f,"aria-label":"show more",children:Object(m.jsx)(T.a,{})}):null]}),Object(m.jsx)(F.a,{in:f,timeout:"auto",unmountOnExit:!0,children:Object(m.jsx)(N.a,{children:Object(m.jsx)(S.a,{variant:"body2",component:"p",gutterBottom:!0,display:"block",color:"textSecondary",children:o})})})]})},de=n(217),je=n(102),pe=n.n(je),be=Object(E.a)((function(){return{root:{paddingTop:20},item:{textAlign:"center"},loading:{height:"90vh"},icon:{fontSize:"25rem",opacity:".3"}}})),Oe=function(){var e=be(),t=Object(x.b)(),n=Object(x.c)((function(e){return e.productsAreLoaded})),a=Object(x.c)((function(e){return e.products}));Object(c.useEffect)((function(){n||t(ce())}),[]),console.log(a);var r=a.map((function(e){return Object(m.jsx)(O.a,{item:!0,xs:12,md:4,children:Object(m.jsx)(ue,{_id:e._id,name:e.name,price:e.price,description:e.description,details:e.details,piecesLeft:e.stock,promotion:e.sale,src:e.src,active:!0})},e._id)}));return Object(m.jsx)(m.Fragment,{children:n?a.length?Object(m.jsx)(O.a,{className:e.root,container:!0,spacing:2,children:r}):Object(m.jsx)(O.a,{className:e.loading,container:!0,justify:"center",alignContent:"center",children:Object(m.jsx)(pe.a,{className:e.icon})}):a.length?Object(m.jsxs)(O.a,{className:e.root,container:!0,justify:"center",alignItems:"center",spacing:2,children:[r,Object(m.jsx)(O.a,{item:!0,xs:12,md:4,children:Object(m.jsx)(de.a,{})})]}):Object(m.jsx)(O.a,{className:e.loading,container:!0,justify:"center",alignItems:"center",spacing:2,children:Object(m.jsx)(de.a,{})})})},xe=n(223),me=n(224),fe=n(5),he=n(33),ge=n(115),ve=n(220),ye=n(103),ke=n.n(ye);!function(e){e.login="Login",e.signup="Sign up",e.logout="Logout",e.accout="Account"}(Z||(Z={})),function(e){e.login="/login",e.signup="/register",e.logout="/home",e.accout="/account"}($||($={}));var we,Ne=Object(E.a)((function(e){return{icon:{color:"#fafafa"},Link:{textDecoration:"none",color:"#000"}}})),Se=function(){var e=Object(x.c)((function(e){return e.isLogged})),t=(Object(x.b)(),e?[[Z.accout,$.accout],[Z.logout,$.logout]]:[[Z.login,$.login],[Z.signup,$.signup]]),n=r.a.useState(null),a=Object(j.a)(n,2),c=a[0],i=a[1],s=Boolean(c),o=Ne(),l=function(e){u()},u=function(){i(null)},d=Object(fe.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(m.jsx)(ge.a,Object(he.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:!1},e))}));return Object(m.jsxs)("div",{children:[Object(m.jsx)(k.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},children:Object(m.jsx)(ke.a,{className:o.icon})}),Object(m.jsx)(d,{id:"long-menu",anchorEl:c,keepMounted:!0,open:s,onClose:u,PaperProps:{style:{maxHeight:216,width:"20ch"}},children:t.map((function(e){return Object(m.jsx)(p.b,{to:e[1],className:o.Link,children:Object(m.jsx)(ve.a,{value:e[0],selected:"Pyxis"===e[0],onClick:l,children:e[0]})},e[0])}))})]})},Ce=Object(E.a)((function(e){var t;return{title:(t={display:"none"},Object(h.a)(t,e.breakpoints.up("sm"),{display:"block",minWidth:"180px",marginRight:"30px"}),Object(h.a)(t,"userSelect","none"),Object(h.a)(t,"fontWeight","bold"),t)}})),Fe=function(){var e=Ce();return Object(m.jsx)(S.a,{variant:"h5",className:e.title,children:"Logo"})},Le=n(104),De=n.n(Le),Ee=n(105),Pe=n.n(Ee),Ie=Object(E.a)((function(e){var t;return{List:(t={padding:0,display:"none"},Object(h.a)(t,e.breakpoints.up("md"),{display:"flex"}),Object(h.a)(t,"listStyle","none"),Object(h.a)(t,"margin",0),t),navLink:{"&:hover":{padding:"12px 12px 10px 12px",borderBottom:"2px solid #262626",cursor:"pointer"}},Link:{color:"#fafafa",textDecoration:"none",userSelect:"none",padding:"12px","&:hover":{padding:"12px 12px 10px 12px",borderBottom:"2px solid #fafafa",cursor:"pointer"}},icon:{position:"relative",top:"5px"}}})),We=function(){var e=Ie();return Object(m.jsx)(O.a,{container:!0,children:Object(m.jsxs)("ul",{className:e.List,children:[Object(m.jsx)(p.b,{className:e.Link,to:"/",children:Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{children:Object(m.jsx)(De.a,{className:e.icon})})," Home"]})}),Object(m.jsx)(p.b,{className:e.Link,to:"/admin/add-product",children:Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{children:Object(m.jsx)(Pe.a,{className:e.icon})})," Add Product"]})})]})})},Te=n(106),Re=n.n(Te),_e=Object(E.a)((function(e){return{menuButton:Object(h.a)({marginRight:e.spacing(2),display:"block"},e.breakpoints.up("md"),{display:"none"}),hide:{display:"none"}}})),Ae=function(e){var t=_e();return Object(m.jsx)(k.a,{color:"inherit","aria-label":"open drawer",onClick:e.drowerOpen,edge:"start",className:Object(g.a)(t.menuButton,e.open&&t.hide),children:Object(m.jsx)(Re.a,{})})},Ue=n(28),Be=n(229),He=n(219),Me=n(221),Ge=n(107),ze=n.n(Ge),Ve=n(108),Xe=n.n(Ve),qe=n(166),Je=n(222),Ke=240,Qe=Object(E.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Ke,"px)"),marginLeft:Ke,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:Ke,flexShrink:0},drawerPaper:{width:Ke},drawerHeader:Object(he.a)(Object(he.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},Link:{color:"#262626",textDecoration:"none",userSelect:"none"}}})),Ye=function(e){var t=Qe(),n=Object(Ue.a)(),a=e.open,c=e.closeMenu;return Object(m.jsxs)(Be.a,{className:t.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:t.drawerPaper},children:[Object(m.jsx)("div",{className:t.drawerHeader,children:Object(m.jsx)(k.a,{onClick:c,children:"ltr"===n.direction?Object(m.jsx)(ze.a,{}):Object(m.jsx)(Xe.a,{})})}),Object(m.jsx)(Me.a,{}),Object(m.jsx)(He.a,{children:["Home","Add Product"].map((function(e){var n="";switch(e){case"Home":n="/";break;case"Add Product":n="/admin/add-product";break;default:n="/nothing"}return Object(m.jsx)(p.b,{className:t.Link,to:n,onClick:c,children:Object(m.jsx)(qe.a,{button:!0,children:Object(m.jsx)(Je.a,{primary:e})},e)},e)}))}),Object(m.jsx)(Me.a,{}),Object(m.jsx)(He.a,{children:["Send mail","Account"].map((function(e){return Object(m.jsx)(qe.a,{button:!0,onClick:c,children:Object(m.jsx)(Je.a,{primary:e})},e)}))})]})},Ze=Object(E.a)((function(e){var t;return{grow:(t={display:"flex"},Object(h.a)(t,e.breakpoints.up("lg"),{display:"none"}),Object(h.a)(t,"flexGrow",1),t)}})),$e=function(){var e=Ze();return Object(m.jsx)("div",{className:e.grow})},et=Object(E.a)((function(e){var t;return{relative:Object(h.a)({position:"relative"},e.breakpoints.up("lg"),{minHeight:"48px"}),grow:{flexGrow:1},growMobile:(t={display:"flex"},Object(h.a)(t,e.breakpoints.up("lg"),{display:"none"}),Object(h.a)(t,"flexGrow",1),t),menuButton:{marginRight:e.spacing(2)},sectionDesktop:Object(h.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(h.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),invisible:{display:"none"}}})),tt=Object(fe.a)((function(e){return{root:{color:"#fafafa",backgroundColor:"#02203c",boxShadow:"none"}}}))(xe.a),nt=function(e){var t=et(),n=e.isVisible,a=r.a.useState(!1),c=Object(j.a)(a,2),i=c[0],s=c[1];return Object(m.jsx)("div",{className:n?"":t.invisible,color:"primary",children:Object(m.jsxs)(tt,{position:"sticky",children:[Object(m.jsxs)(me.a,{className:t.relative,children:[Object(m.jsx)(Ae,{open:i,drowerOpen:function(){s(!0)}}),Object(m.jsx)(Fe,{}),Object(m.jsx)(We,{}),Object(m.jsx)($e,{}),Object(m.jsx)(Se,{})]}),Object(m.jsx)(Ye,{open:i,closeMenu:function(){s(!1)}})]})})},at=n(226),ct=n(225),rt=n(109),it=n.n(rt);!function(e){e.name="NAME",e.desc="DESCRIPTION",e.details="DETAILS",e.prom="PROMOTION",e.price="PRICE",e.stock="PIECES",e.src="SRC"}(we||(we={}));var st=we,ot=Object(E.a)((function(e){return{textFieldWrapper:{display:"flex",justifyContent:"center"},textField:Object(h.a)({width:"95%"},e.breakpoints.up("md"),{width:"100%"}),button:{margin:e.spacing(1),width:200},buttonWrapper:{display:"flex",justifyContent:"center"}}})),lt=function(e){var t=e.name,n=e.description,a=e.details,c=e.promotion,r=e.pieces,i=e.price,s=e.change,o=e.clear,l=e.send,u=ot();return Object(m.jsxs)(O.a,{container:!0,spacing:1,justify:"center",children:[Object(m.jsx)(O.a,{item:!0,xs:12,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Name",type:"text",value:t,onChange:function(e){return s(e.target,st.name)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:6,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Price(RON)",type:"number",InputLabelProps:{shrink:!0},value:i,onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,st.price)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:6,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Promotion(%)",type:"number",value:c,InputLabelProps:{shrink:!0},onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,st.prom)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Pieces",type:"number",value:r,InputLabelProps:{shrink:!0},onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,st.stock)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Description",value:n,onChange:function(e){return s(e.target,st.desc)},rows:3,multiline:!0})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Details",value:a,onChange:function(e){return s(e.target,st.details)},rows:3,multiline:!0})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:u.textFieldWrapper,children:Object(m.jsxs)(ct.a,{variant:"contained",component:"label",children:["Select File",Object(m.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return s(e.target,st.src)},hidden:!0})]})}),Object(m.jsxs)(O.a,{container:!0,children:[Object(m.jsx)(O.a,{item:!0,xs:6,className:u.buttonWrapper,children:Object(m.jsx)(ct.a,{variant:"contained",color:"primary",className:u.button,startIcon:Object(m.jsx)(it.a,{}),onClick:function(e){l(e)},children:"Upload"})}),Object(m.jsx)(O.a,{item:!0,xs:6,className:u.buttonWrapper,children:Object(m.jsx)(ct.a,{variant:"contained",color:"default",className:u.button,startIcon:Object(m.jsx)(M.a,{}),onClick:o,children:"Clear"})})]})]})},ut=Object(E.a)((function(e){return{root:{paddingTop:"3rem"}}})),dt=function(e){var t=ut(),n=Object(x.b)(),a=Object(c.useState)(""),r=Object(j.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)(""),l=Object(j.a)(o,2),u=l[0],d=l[1],p=Object(c.useState)(""),b=Object(j.a)(p,2),f=b[0],h=b[1],g=Object(c.useState)(0),v=Object(j.a)(g,2),y=v[0],k=v[1],w=Object(c.useState)(0),N=Object(j.a)(w,2),S=N[0],C=N[1],F=Object(c.useState)(0),L=Object(j.a)(F,2),D=L[0],E=L[1],P=Object(c.useState)(""),I=Object(j.a)(P,2),W=I[0],T=I[1];return Object(m.jsxs)(O.a,{container:!0,spacing:3,className:t.root,children:[Object(m.jsx)(O.a,{item:!0,xs:12,md:7,children:Object(m.jsx)(ue,{_id:"",name:i,description:u,details:f,promotion:y,price:S,piecesLeft:D,src:W,active:!1})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:5,children:Object(m.jsx)(lt,{name:i,description:u,details:f,promotion:y,price:S,pieces:D,src:W,change:function(e,t){switch(t){case st.name:s(e.value);break;case st.desc:d(e.value);break;case st.details:h(e.value);break;case st.prom:if(""===e.value){k(0);break}k(parseInt(e.value));break;case st.price:if(""===e.value){C(0);break}C(parseInt(e.value));break;case st.stock:if(""===e.value){E(0);break}E(parseInt(e.value));break;case st.src:"files"in e&&function(e){var t=new FileReader;e&&(t.readAsDataURL(e),t.onload=function(){var e=t.result;T(e.toString())})}(e.files[0])}},clear:function(){s(""),C(0),E(0),k(0),d(""),h(""),T("")},send:function(e){e.preventDefault(),n(ie([{name:i,price:S,description:u,details:f,sale:y,stock:D,src:W}]))}})})]})},jt=n(111),pt=n.n(jt),bt=n(110),Ot=n.n(bt),xt=Object(E.a)((function(e){return{textFieldWrapper:{display:"flex",justifyContent:"center"},textField:Object(h.a)({width:"95%"},e.breakpoints.up("md"),{width:"100%"}),button:{margin:e.spacing(1),width:200},buttonWrapper:{display:"flex",justifyContent:"center"}}})),mt=function(e){var t=e.name,n=e.description,a=e.details,c=e.promotion,r=e.pieces,i=e.price,s=e.change,o=e.reset,l=e.update,u=xt();return Object(m.jsxs)(O.a,{container:!0,spacing:1,justify:"center",children:[Object(m.jsx)(O.a,{item:!0,xs:12,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Name",type:"text",value:t,onChange:function(e){return s(e.target,st.name)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:6,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Price(RON)",type:"number",InputLabelProps:{shrink:!0},value:i,onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,st.price)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:6,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Promotion(%)",type:"number",value:c,InputLabelProps:{shrink:!0},onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,st.prom)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Pieces",type:"number",value:r,InputLabelProps:{shrink:!0},onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,st.stock)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Description",value:n,onChange:function(e){return s(e.target,st.desc)},rows:3,multiline:!0})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:u.textFieldWrapper,children:Object(m.jsx)(at.a,{className:u.textField,label:"Details",value:a,onChange:function(e){return s(e.target,st.details)},rows:3,multiline:!0})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:u.textFieldWrapper,children:Object(m.jsxs)(ct.a,{variant:"contained",component:"label",children:["Select File",Object(m.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return s(e.target,st.src)},hidden:!0})]})}),Object(m.jsxs)(O.a,{container:!0,children:[Object(m.jsx)(O.a,{item:!0,xs:6,className:u.buttonWrapper,children:Object(m.jsx)(ct.a,{variant:"contained",color:"primary",className:u.button,startIcon:Object(m.jsx)(Ot.a,{}),onClick:function(e){l(e)},children:"Save"})}),Object(m.jsx)(O.a,{item:!0,xs:6,className:u.buttonWrapper,children:Object(m.jsx)(ct.a,{variant:"contained",color:"default",className:u.button,startIcon:Object(m.jsx)(pt.a,{}),onClick:o,children:"Reset"})})]})]})},ft=Object(E.a)((function(e){return{root:{marginTop:"4rem"},loading:{height:"90vh",justifyContent:"center",alignItems:"center",display:"flex"}}})),ht=function(e){var t=e.match,n=ft(),a=Object(x.b)(),r=Object(c.useState)(Object(x.c)((function(e){return e.products.filter((function(e){return e._id===t.params.id}))[0]}))),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(s?s.name:""),u=Object(j.a)(l,2),d=u[0],p=u[1],b=Object(c.useState)(s?s.price:0),f=Object(j.a)(b,2),h=f[0],g=f[1],v=Object(c.useState)(s?s.description:""),y=Object(j.a)(v,2),k=y[0],w=y[1],N=Object(c.useState)(s?s.details:""),S=Object(j.a)(N,2),C=S[0],F=S[1],L=Object(c.useState)(s?s.sale:0),D=Object(j.a)(L,2),E=D[0],P=D[1],I=Object(c.useState)(s?s.stock:0),W=Object(j.a)(I,2),T=W[0],R=W[1],_=Object(c.useState)(s?s.src:""),A=Object(j.a)(_,2),U=A[0],B=A[1],H=function(){var e=Object(V.a)(z.a.mark((function e(){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("/products/".concat(t.params.id));case 2:return n=e.sent,e.abrupt("return",n.data.product);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){Object(V.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=12;break}return e.next=3,H();case 3:t=e.sent,o(t),p(t.name),g(t.price),w(t.description),F(t.details),P(t.sale),R(t.stock),B(t.src);case 12:case"end":return e.stop()}}),e)})))()}),[]);return Object(m.jsx)(m.Fragment,{children:s?Object(m.jsxs)(O.a,{container:!0,spacing:2,className:n.root,children:[Object(m.jsx)(O.a,{item:!0,xs:12,md:7,children:Object(m.jsx)(ue,{_id:s._id,name:d,price:h,description:k,details:C,piecesLeft:T,promotion:E,src:U,active:!1})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:5,children:Object(m.jsx)(mt,{name:d,description:k,details:C,promotion:E,price:h,pieces:T,src:U,change:function(e,t){switch(t){case st.name:p(e.value);break;case st.desc:w(e.value);break;case st.details:F(e.value);break;case st.prom:if(""===e.value){P(0);break}P(parseInt(e.value));break;case st.price:if(""===e.value){g(0);break}g(parseInt(e.value));break;case st.stock:if(""===e.value){R(0);break}R(parseInt(e.value));break;case st.src:"files"in e&&function(e){var t=new FileReader;e&&(t.readAsDataURL(e),t.onload=function(){var e=t.result;B(e)})}(e.files[0])}},reset:function(){p(s.name),g(s.price),R(s.stock),P(s.sale),w(s.description),F(s.details),B(s.src)},update:function(e){e.preventDefault();var t={name:d,price:h,description:k,details:C,sale:E,stock:T,src:U};a(s?se(s._id,t):re(t))}})})]}):Object(m.jsx)(O.a,{container:!0,className:n.loading,children:Object(m.jsx)(de.a,{})})})},gt=function(e){return Object(m.jsx)("div",{children:"Account info"})},vt=function(e){return Object(m.jsx)("div",{children:"Login"})},yt=function(e){return Object(m.jsx)("div",{children:"Register"})},kt=n(230),wt=n(228);function Nt(e){return Object(m.jsx)(wt.a,Object(he.a)({elevation:6,variant:"filled"},e))}var St=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.snackbar})),n=function(t,n){"clickaway"!==n&&e(Y())},a=Object(c.useState)(!0),r=Object(j.a)(a,2),i=r[0],s=r[1];return Object(m.jsxs)(p.a,{children:[Object(m.jsx)(nt,{isVisible:i}),Object(m.jsxs)(O.a,{container:!0,children:[Object(m.jsx)(O.a,{item:!0,xs:!1,md:1,lg:2}),Object(m.jsxs)(O.a,{item:!0,xs:12,md:10,lg:8,children:[Object(m.jsxs)(b.c,{children:[Object(m.jsx)(b.a,{exact:!0,path:"/",component:Oe}),Object(m.jsx)(b.a,{exact:!0,path:"/admin",component:Oe}),Object(m.jsx)(b.a,{exact:!0,path:"/admin/add-product",component:dt}),Object(m.jsx)(b.a,{path:"/admin/product/:id",component:ht}),Object(m.jsx)(b.a,{path:"/account",component:gt}),Object(m.jsx)(b.a,{path:"/login",component:vt}),Object(m.jsx)(b.a,{path:"/register",component:yt}),Object(m.jsx)(b.a,{path:"*",children:Object(m.jsx)(f,{showNav:s})})]}),Object(m.jsx)(kt.a,{open:t.open,autoHideDuration:4e3,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(m.jsx)(Nt,{onClose:n,severity:t.variant,children:t.message})})]}),Object(m.jsx)(O.a,{item:!0,xs:!1,md:1,lg:2})]})]})},Ct=(n(164),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{id:"anchor",children:Object(m.jsx)(St,{})})}}]),n}(c.Component)),Ft=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},Lt=n(45),Dt=n(112),Et=n(114),Pt=Object(Lt.c)({isLogged:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":e=!0;break;case"LOGOUT":e=!1}return e},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET":return t.payload;case"ADD-PRODUCT":return[].concat(Object(Et.a)(e),[t.payload]);case"UPDATE":return console.log(t.payload),e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"DELETE":return e.filter((function(e){return e._id!==t.payload}));default:return e}},productsAreLoaded:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADED":return!0;case"DUMP":return!1;default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1,message:"",variant:"info"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW":return Object(he.a)({open:!0},t.payload);case"HIDE":return Object(he.a)(Object(he.a)({},e),{},{open:!1});default:return e}}}),It=Object(Lt.e)(Pt,Object(Lt.d)(Object(Lt.a)(Dt.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(x.a,{store:It,children:Object(m.jsx)(Ct,{})})}),document.getElementById("root")),Ft()}},[[165,1,2]]]);
//# sourceMappingURL=main.c790d8f2.chunk.js.map
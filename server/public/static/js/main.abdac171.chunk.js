(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{135:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),i=n(11),s=n.n(i),o=(n(135),n(95)),l=n(96),u=n(120),d=n(117),j=n(9),p=n(33),b=n(17),O=n(225),x=n(18),m=n(2),f=function(e){var t=e.showNav;return Object(c.useEffect)((function(){return t(!1),function(){t(!0)}}),[]),Object(m.jsx)(m.Fragment,{children:"No page on this path!"})},h=n(12),g=n(4),v=n(217),y=n(219),k=n(220),N=n(221),w=n(222),S=n(37),F=n(223),C=n(224),L=n(103),D=n.n(L),I=n(214),E=n(104),P=n.n(E),W=n(105),T=n.n(W),_=n(78),R=n.n(_),A=n(69),B=n(52),H=n.n(B),M=n(67),U=n.n(M),G=n(26),z=n.n(G),J=n(39),V=n(47),X=n.n(V),q=function(e,t){return X.a.patch("/products/".concat(e),t)},Y=function(e){return X.a.delete("/products/".concat(e))},K=function(e){return{type:"SHOW",payload:e}},Q=function(){return{type:"HIDE"}};!function(e){e.success="The product was added succesfully!",e.fail="Something went wrong...",e.conflict="Product name is already in used!",e.multisuccess="Products added succesfully!"}(a||(a={}));var Z,$,ee=a,te=function(){return function(){var e=Object(J.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/products");case 3:return e.next=5,e.sent.json();case 5:n=e.sent,t({type:"GET",payload:n.products}),t(ne()),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"GET",payload:[]}),t(ne()),t(Q()),t(K({message:"Connection failed",variant:"error"})),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},ne=function(){return{type:"LOADED"}},ae=function(){return{type:"DUMP"}},ce=te,re=function(e){return function(){var t=Object(J.a)(z.a.mark((function t(n){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/products/add-product",{method:"POST",body:e});case 3:return t.next=5,t.sent.json();case 5:"success"===(a=t.sent).status?(console.log(a.status),n(Q()),n(K({message:a.message,variant:"success"}))):(n(Q()),n(K({message:a.message,variant:"warning"}))),console.log(a),n(ae()),n({type:"ADD-PRODUCT",payload:a.product}),n(te()),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),"Request failed with status code 409"===t.t0.message?n(K({message:ee.conflict,variant:"error"})):n(K({message:ee.fail,variant:"error"})),console.log(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},ie=function(e,t){return function(){var n=Object(J.a)(z.a.mark((function n(a){var c,r;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,q(e,t);case 3:c=n.sent,r=c.data,console.log(r),"success"===r.status?(a(Q()),a(K({message:r.message,variant:"success"}))):(a(Q()),a(K({message:r.message,variant:"warning"}))),a({type:"UPDATE",payload:r}),a(te()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),a(Q()),a(K({message:ee.fail,variant:"error"})),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},se=function(e){return function(){var t=Object(J.a)(z.a.mark((function t(n){var a,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y(e);case 3:a=t.sent,c=a.data,console.log(c),"success"===c.status?(n(Q()),n(K({message:c.message,variant:"success"}))):(n(Q()),n(K({message:c.message,variant:"warning"}))),n({type:"DELETE",payload:e}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},oe=Object(I.a)((function(e){return{root:Object(h.a)({width:"100%"},e.breakpoints.up("md"),{maxWidth:345}),media:{display:"flex",height:0,paddingTop:"56.25%",justifyContent:"center",alignItems:"center"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:A.a[500]},description:{overflow:"hidden"},icon:{top:"-90px",position:"relative"}}})),le=function(e){var t=Object(x.b)(),n=Object(x.c)((function(e){return e.isLogged})),a=oe(),r=e._id,i=e.name,s=e.description,o=e.details,l=(e.promotion,e.price),u=(e.piecesLeft,e.active),d=e.src,b=Object(c.useState)(!1),O=Object(j.a)(b,2),f=O[0],L=O[1];return Object(m.jsxs)(v.a,{className:a.root,children:[Object(m.jsx)(y.a,{action:u?Object(m.jsx)(p.b,{to:"/admin/product/".concat(r),children:Object(m.jsx)(k.a,{"aria-label":"settings",children:Object(m.jsx)(R.a,{})})}):Object(m.jsx)(k.a,{"aria-label":"settings",children:Object(m.jsx)(R.a,{})}),title:i,subheader:"".concat(l," RON")}),Object(m.jsx)(N.a,{className:a.media,children:d?null:Object(m.jsx)(H.a,{className:a.icon}),image:d,title:"asd"}),Object(m.jsx)(w.a,{className:a.description,children:Object(m.jsx)(S.a,{variant:"body2",display:"block",color:"textSecondary",component:"p",children:s})}),Object(m.jsxs)(F.a,{disableSpacing:!0,children:[n?Object(m.jsx)(k.a,{"aria-label":"add to favorites",children:Object(m.jsx)(D.a,{})}):null,Object(m.jsx)(k.a,{"aria-label":"delete",onClick:function(){return e=r,void(u&&t(se(e)));var e},children:Object(m.jsx)(U.a,{})}),Object(m.jsx)(k.a,{"aria-label":"share",children:Object(m.jsx)(P.a,{})}),o?Object(m.jsx)(k.a,{className:Object(g.a)(a.expand,Object(h.a)({},a.expandOpen,f)),onClick:function(){L(!f)},"aria-expanded":f,"aria-label":"show more",children:Object(m.jsx)(T.a,{})}):null]}),Object(m.jsx)(C.a,{in:f,timeout:"auto",unmountOnExit:!0,children:Object(m.jsx)(w.a,{children:Object(m.jsx)(S.a,{variant:"body2",component:"p",gutterBottom:!0,display:"block",color:"textSecondary",children:o})})})]})},ue=n(226),de=n(106),je=n.n(de),pe=Object(I.a)((function(){return{root:{paddingTop:20},item:{textAlign:"center"},loading:{height:"90vh"},icon:{fontSize:"25rem",opacity:".3"}}})),be=function(){var e=pe(),t=Object(x.b)(),n=Object(x.c)((function(e){return e.productsAreLoaded})),a=Object(x.c)((function(e){return e.products}));Object(c.useEffect)((function(){n||t(ce())}),[]),console.log(a);var r=a.map((function(e){return Object(m.jsx)(O.a,{item:!0,xs:12,md:4,children:Object(m.jsx)(le,{_id:e._id,name:e.name,price:e.price,description:e.description,details:e.details,piecesLeft:e.stock,promotion:e.sale,src:e.src,active:!0})},e._id)}));return Object(m.jsx)(m.Fragment,{children:n?a.length?Object(m.jsx)(O.a,{className:e.root,container:!0,spacing:2,children:r}):Object(m.jsx)(O.a,{className:e.loading,container:!0,justify:"center",alignContent:"center",children:Object(m.jsx)(je.a,{className:e.icon})}):a.length?Object(m.jsxs)(O.a,{className:e.root,container:!0,justify:"center",alignItems:"center",spacing:2,children:[r,Object(m.jsx)(O.a,{item:!0,xs:12,md:4,children:Object(m.jsx)(ue.a,{})})]}):Object(m.jsx)(O.a,{className:e.loading,container:!0,justify:"center",alignItems:"center",spacing:2,children:Object(m.jsx)(ue.a,{})})})},Oe=n(232),xe=n(233),me=n(5),fe=n(13),he=n(119),ge=n(229),ve=n(107),ye=n.n(ve);!function(e){e.login="Login",e.signup="Sign up",e.logout="Logout",e.accout="Account"}(Z||(Z={})),function(e){e.login="/login",e.signup="/register",e.logout="/home",e.accout="/account"}($||($={}));var ke,Ne=Object(I.a)((function(e){return{icon:{color:"#fafafa"},Link:{textDecoration:"none",color:"#000"}}})),we=function(){var e=Object(x.c)((function(e){return e.isLogged})),t=(Object(x.b)(),e?[[Z.accout,$.accout],[Z.logout,$.logout]]:[[Z.login,$.login],[Z.signup,$.signup]]),n=r.a.useState(null),a=Object(j.a)(n,2),c=a[0],i=a[1],s=Boolean(c),o=Ne(),l=function(e){u()},u=function(){i(null)},d=Object(me.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(m.jsx)(he.a,Object(fe.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:!1},e))}));return Object(m.jsxs)("div",{children:[Object(m.jsx)(k.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},children:Object(m.jsx)(ye.a,{className:o.icon})}),Object(m.jsx)(d,{id:"long-menu",anchorEl:c,keepMounted:!0,open:s,onClose:u,PaperProps:{style:{maxHeight:216,width:"20ch"}},children:t.map((function(e){return Object(m.jsx)(p.b,{to:e[1],className:o.Link,children:Object(m.jsx)(ge.a,{value:e[0],selected:"Pyxis"===e[0],onClick:l,children:e[0]})},e[0])}))})]})},Se=Object(I.a)((function(e){var t;return{title:(t={display:"none"},Object(h.a)(t,e.breakpoints.up("sm"),{display:"block",minWidth:"180px",marginRight:"30px"}),Object(h.a)(t,"userSelect","none"),Object(h.a)(t,"fontWeight","bold"),t)}})),Fe=function(){var e=Se();return Object(m.jsx)(S.a,{variant:"h5",className:e.title,children:"Logo"})},Ce=n(108),Le=n.n(Ce),De=n(109),Ie=n.n(De),Ee=Object(I.a)((function(e){var t;return{List:(t={padding:0,display:"none"},Object(h.a)(t,e.breakpoints.up("md"),{display:"flex"}),Object(h.a)(t,"listStyle","none"),Object(h.a)(t,"margin",0),t),navLink:{"&:hover":{padding:"12px 12px 10px 12px",borderBottom:"2px solid #262626",cursor:"pointer"}},Link:{color:"#fafafa",textDecoration:"none",userSelect:"none",padding:"12px","&:hover":{padding:"12px 12px 10px 12px",borderBottom:"2px solid #fafafa",cursor:"pointer"}},icon:{position:"relative",top:"5px"}}})),Pe=function(){var e=Ee();return Object(m.jsx)(O.a,{container:!0,children:Object(m.jsxs)("ul",{className:e.List,children:[Object(m.jsx)(p.b,{className:e.Link,to:"/",children:Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{children:Object(m.jsx)(Le.a,{className:e.icon})})," Home"]})}),Object(m.jsx)(p.b,{className:e.Link,to:"/admin/add-product",children:Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{children:Object(m.jsx)(Ie.a,{className:e.icon})})," Add Product"]})})]})})},We=n(110),Te=n.n(We),_e=Object(I.a)((function(e){return{menuButton:Object(h.a)({marginRight:e.spacing(2),display:"block"},e.breakpoints.up("md"),{display:"none"}),hide:{display:"none"}}})),Re=function(e){var t=_e();return Object(m.jsx)(k.a,{color:"inherit","aria-label":"open drawer",onClick:e.drowerOpen,edge:"start",className:Object(g.a)(t.menuButton,e.open&&t.hide),children:Object(m.jsx)(Te.a,{})})},Ae=n(29),Be=n(243),He=n(228),Me=n(230),Ue=n(111),Ge=n.n(Ue),ze=n(112),Je=n.n(ze),Ve=n(169),Xe=n(231),qe=240,Ye=Object(I.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(qe,"px)"),marginLeft:qe,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:qe,flexShrink:0},drawerPaper:{width:qe},drawerHeader:Object(fe.a)(Object(fe.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},Link:{color:"#262626",textDecoration:"none",userSelect:"none"}}})),Ke=function(e){var t=Ye(),n=Object(Ae.a)(),a=e.open,c=e.closeMenu;return Object(m.jsxs)(Be.a,{className:t.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:t.drawerPaper},children:[Object(m.jsx)("div",{className:t.drawerHeader,children:Object(m.jsx)(k.a,{onClick:c,children:"ltr"===n.direction?Object(m.jsx)(Ge.a,{}):Object(m.jsx)(Je.a,{})})}),Object(m.jsx)(Me.a,{}),Object(m.jsx)(He.a,{children:["Home","Add Product"].map((function(e){var n="";switch(e){case"Home":n="/";break;case"Add Product":n="/admin/add-product";break;default:n="/nothing"}return Object(m.jsx)(p.b,{className:t.Link,to:n,onClick:c,children:Object(m.jsx)(Ve.a,{button:!0,children:Object(m.jsx)(Xe.a,{primary:e})},e)},e)}))}),Object(m.jsx)(Me.a,{}),Object(m.jsx)(He.a,{children:["Send mail","Account"].map((function(e){return Object(m.jsx)(Ve.a,{button:!0,onClick:c,children:Object(m.jsx)(Xe.a,{primary:e})},e)}))})]})},Qe=Object(I.a)((function(e){var t;return{grow:(t={display:"flex"},Object(h.a)(t,e.breakpoints.up("lg"),{display:"none"}),Object(h.a)(t,"flexGrow",1),t)}})),Ze=function(){var e=Qe();return Object(m.jsx)("div",{className:e.grow})},$e=Object(I.a)((function(e){var t;return{relative:Object(h.a)({position:"relative"},e.breakpoints.up("lg"),{minHeight:"48px"}),grow:{flexGrow:1},growMobile:(t={display:"flex"},Object(h.a)(t,e.breakpoints.up("lg"),{display:"none"}),Object(h.a)(t,"flexGrow",1),t),menuButton:{marginRight:e.spacing(2)},sectionDesktop:Object(h.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(h.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),invisible:{display:"none"}}})),et=Object(me.a)((function(e){return{root:{color:"#fafafa",backgroundColor:"#02203c",boxShadow:"none"}}}))(Oe.a),tt=function(e){var t=$e(),n=e.isVisible,a=r.a.useState(!1),c=Object(j.a)(a,2),i=c[0],s=c[1];return Object(m.jsx)("div",{className:n?"":t.invisible,color:"primary",children:Object(m.jsxs)(et,{position:"sticky",children:[Object(m.jsxs)(xe.a,{className:t.relative,children:[Object(m.jsx)(Re,{open:i,drowerOpen:function(){s(!0)}}),Object(m.jsx)(Fe,{}),Object(m.jsx)(Pe,{}),Object(m.jsx)(Ze,{}),Object(m.jsx)(we,{})]}),Object(m.jsx)(Ke,{open:i,closeMenu:function(){s(!1)}})]})})},nt=n(240),at=n(234),ct=n(113),rt=n.n(ct),it="No image for product!",st="Are you sure you want to save this product without a picture?";!function(e){e.name="NAME",e.desc="DESCRIPTION",e.details="DETAILS",e.prom="PROMOTION",e.price="PRICE",e.stock="PIECES",e.src="SRC"}(ke||(ke={}));var ot=Object(I.a)((function(e){return{textFieldWrapper:{display:"flex",justifyContent:"center"},textField:Object(h.a)({width:"95%"},e.breakpoints.up("md"),{width:"100%"}),button:{margin:e.spacing(1),width:200},buttonWrapper:{display:"flex",justifyContent:"center"},alertField:{"&>label":{color:"red"},"& .MuiInput-underline:before":{borderBottom:"1px solid red"}},activeButton:{color:"rgba( 0, 0, 0, 1 ) !important"}}})),lt=function(e){var t=e.name,n=e.description,a=e.details,c=e.promotion,r=e.pieces,i=e.price,s=e.change,o=e.clear,l=e.send,u=e.fieldWarnings,d=e.src,j=e.openDialog,p=e.checkFields,b=e.removeImage,x=ot();return Object(m.jsxs)(O.a,{container:!0,spacing:1,justify:"center",children:[Object(m.jsx)(O.a,{item:!0,xs:12,className:x.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:"".concat(x.textField," ").concat(u.name?x.alertField:""),label:"Name*",type:"text",value:t,onChange:function(e){return s(e.target,ke.name)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:6,className:x.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:"".concat(x.textField," ").concat(u.price?x.alertField:""),label:"Price*(RON)",type:"number",InputLabelProps:{shrink:!0},value:i,onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,ke.price)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:6,className:x.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:x.textField,label:"Promotion(%)",type:"number",value:c,InputLabelProps:{shrink:!0},onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,ke.prom)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:x.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:x.textField,label:"Pieces",type:"number",value:r,InputLabelProps:{shrink:!0},onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,ke.stock)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:x.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:"".concat(x.textField," ").concat(u.description?x.alertField:""),label:"Description*",value:n,onChange:function(e){return s(e.target,ke.desc)},rows:3,multiline:!0})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:x.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:x.textField,label:"Details",value:a,onChange:function(e){return s(e.target,ke.details)},rows:3,multiline:!0})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:x.textFieldWrapper,children:Object(m.jsxs)(O.a,{container:!0,spacing:1,justify:"center",children:[Object(m.jsxs)(at.a,{variant:"contained",component:"label",children:["Select File",Object(m.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return s(e.target,ke.src)},hidden:!0})]}),Object(m.jsx)(k.a,{disabled:!d,onClick:b,className:"".concat(d?x.activeButton:""),children:Object(m.jsx)(H.a,{})})]})}),Object(m.jsxs)(O.a,{container:!0,children:[Object(m.jsx)(O.a,{item:!0,xs:6,className:x.buttonWrapper,children:Object(m.jsx)(at.a,{variant:"contained",color:"primary",className:x.button,startIcon:Object(m.jsx)(rt.a,{}),onClick:function(e){p()&&(d?l(e):j(it,st))},children:"Upload"})}),Object(m.jsx)(O.a,{item:!0,xs:6,className:x.buttonWrapper,children:Object(m.jsx)(at.a,{variant:"contained",color:"default",className:x.button,startIcon:Object(m.jsx)(U.a,{}),onClick:o,children:"Clear"})})]})]})},ut=n(235),dt=n(239),jt=n(237),pt=n(238),bt=n(236),Ot=function(e){var t=e.title,n=e.content,a=e.yes,c=e.no,r=e.open,i=e.setOpen,s=function(){i(!1)};return Object(m.jsxs)(ut.a,{open:r,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(m.jsx)(bt.a,{id:"alert-dialog-title",children:t}),Object(m.jsx)(jt.a,{children:Object(m.jsx)(pt.a,{id:"alert-dialog-description",children:n})}),Object(m.jsxs)(dt.a,{children:[Object(m.jsx)(at.a,{onClick:c?function(){c(),s()}:s,color:"primary",children:"No"}),Object(m.jsx)(at.a,{onClick:a?function(e){a(e),s()}:s,color:"primary",autoFocus:!0,children:"Yes"})]})]})},xt=Object(I.a)((function(e){return{root:{paddingTop:"3rem"}}})),mt=function(e){var t=xt(),n=Object(x.b)(),a=Object(c.useState)(""),r=Object(j.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)(""),l=Object(j.a)(o,2),u=l[0],d=l[1],p=Object(c.useState)(""),b=Object(j.a)(p,2),f=b[0],h=b[1],g=Object(c.useState)(0),v=Object(j.a)(g,2),y=v[0],k=v[1],N=Object(c.useState)(0),w=Object(j.a)(N,2),S=w[0],F=w[1],C=Object(c.useState)(0),L=Object(j.a)(C,2),D=L[0],I=L[1],E=Object(c.useState)(null),P=Object(j.a)(E,2),W=P[0],T=P[1],_=Object(c.useState)(""),R=Object(j.a)(_,2),A=R[0],B=R[1],H=Object(c.useState)({name:!1,description:!1,price:!1}),M=Object(j.a)(H,2),U=M[0],G=M[1],z=Object(c.useState)(!1),J=Object(j.a)(z,2),V=J[0],X=J[1],q=Object(c.useState)(""),Y=Object(j.a)(q,2),K=Y[0],Q=Y[1],Z=Object(c.useState)(""),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=function(e){e.preventDefault();for(var t={name:i,price:S,description:u,details:f,sale:y,stock:D,src:W},a=new FormData,c=0,r=Object.keys(t);c<r.length;c++){var s=r[c];a.append(s,t[s])}n(re(a))};return Object(m.jsxs)(O.a,{container:!0,spacing:3,className:t.root,children:[Object(m.jsx)(O.a,{item:!0,xs:12,md:7,children:Object(m.jsx)(le,{_id:"",name:i,description:u,details:f,promotion:y,price:S,piecesLeft:D,src:A,active:!1})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:5,children:Object(m.jsx)(lt,{name:i,description:u,details:f,promotion:y,price:S,pieces:D,src:W,change:function(e,t){switch(t){case ke.name:s(e.value),U.name&&G(Object(fe.a)(Object(fe.a)({},U),{},{name:!1}));break;case ke.desc:d(e.value),U.description&&G(Object(fe.a)(Object(fe.a)({},U),{},{description:!1}));break;case ke.details:h(e.value);break;case ke.prom:if(""===e.value){k(0);break}k(parseInt(e.value));break;case ke.price:if(""===e.value){F(0);break}F(parseInt(e.value)),U.price&&G(Object(fe.a)(Object(fe.a)({},U),{},{price:!1}));break;case ke.stock:if(""===e.value){I(0);break}I(parseInt(e.value));break;case ke.src:"files"in e&&function(e){var t=new FileReader;e&&(T(e),t.readAsDataURL(e),t.onload=function(){var e=t.result;B(e.toString())})}(e.files[0])}},clear:function(){s(""),F(0),I(0),k(0),d(""),h(""),T(null),G({name:!1,price:!1,description:!1})},send:ne,removeImage:function(){T("")},fieldWarnings:U,checkFields:function(){if(i&&u&&S)return!0;var e=Object(fe.a)({},U);return i||(e.name=!0),u||(e.description=!0),S||(e.price=!0),G(e),!1},openDialog:function(e,t){Q(e),te(t),X(!0)}})}),Object(m.jsx)(Ot,{open:V,title:K,content:ee,yes:ne,setOpen:X})]})},ft=n(115),ht=n.n(ft),gt=n(114),vt=n.n(gt),yt=Object(I.a)((function(e){return{textFieldWrapper:{display:"flex",justifyContent:"center"},textField:Object(h.a)({width:"95%"},e.breakpoints.up("md"),{width:"100%"}),button:{margin:e.spacing(1),width:200},buttonWrapper:{display:"flex",justifyContent:"center"},alertField:{"&>label":{color:"red"},"& .MuiInput-underline:before":{borderBottom:"1px solid red"}},activeButton:{color:"rgba( 0, 0, 0, 1 ) !important"}}})),kt=function(e){var t=e.name,n=e.description,a=e.details,c=e.promotion,r=e.pieces,i=e.price,s=e.change,o=e.reset,l=e.update,u=e.removeImage,d=e.checkFields,j=e.fieldWarnings,p=e.src,b=yt();return Object(m.jsxs)(O.a,{container:!0,spacing:1,justify:"center",children:[Object(m.jsx)(O.a,{item:!0,xs:12,className:b.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:"".concat(b.textField," ").concat(j.name?b.alertField:""),label:"Name",type:"text",value:t,onChange:function(e){return s(e.target,ke.name)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:6,className:b.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:"".concat(b.textField," ").concat(j.price?b.alertField:""),label:"Price(RON)",type:"number",InputLabelProps:{shrink:!0},value:i,onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,ke.price)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:6,className:b.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:b.textField,label:"Promotion(%)",type:"number",value:c,InputLabelProps:{shrink:!0},onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,ke.prom)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:b.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:b.textField,label:"Pieces",type:"number",value:r,InputLabelProps:{shrink:!0},onFocus:function(e){return e.target.select()},onChange:function(e){return s(e.target,ke.stock)}})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:b.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:"".concat(b.textField," ").concat(j.description?b.alertField:""),label:"Description",value:n,onChange:function(e){return s(e.target,ke.desc)},rows:3,multiline:!0})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:b.textFieldWrapper,children:Object(m.jsx)(nt.a,{className:b.textField,label:"Details",value:a,onChange:function(e){return s(e.target,ke.details)},rows:3,multiline:!0})}),Object(m.jsx)(O.a,{item:!0,xs:12,className:b.textFieldWrapper,children:Object(m.jsxs)(O.a,{container:!0,spacing:1,justify:"center",children:[Object(m.jsxs)(at.a,{variant:"contained",component:"label",children:["Select File",Object(m.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return s(e.target,ke.src)},hidden:!0})]}),Object(m.jsx)(k.a,{disabled:!p,className:"".concat(p?b.activeButton:""),onClick:u,children:Object(m.jsx)(H.a,{})})]})}),Object(m.jsxs)(O.a,{container:!0,children:[Object(m.jsx)(O.a,{item:!0,xs:6,className:b.buttonWrapper,children:Object(m.jsx)(at.a,{variant:"contained",color:"primary",className:b.button,startIcon:Object(m.jsx)(vt.a,{}),onClick:function(e){d()&&l(e)},children:"Save"})}),Object(m.jsx)(O.a,{item:!0,xs:6,className:b.buttonWrapper,children:Object(m.jsx)(at.a,{variant:"contained",color:"default",className:b.button,startIcon:Object(m.jsx)(ht.a,{}),onClick:o,children:"Reset"})})]})]})},Nt=Object(I.a)((function(e){return{root:{marginTop:"4rem"},loading:{height:"90vh",justifyContent:"center",alignItems:"center",display:"flex"}}})),wt=function(e){var t=e.match,n=Nt(),a=Object(x.b)(),r=Object(c.useState)(Object(x.c)((function(e){return e.products.filter((function(e){return e._id===t.params.id}))[0]}))),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(s?s.name:""),u=Object(j.a)(l,2),d=u[0],p=u[1],b=Object(c.useState)(s?s.price:0),f=Object(j.a)(b,2),h=f[0],g=f[1],v=Object(c.useState)(s?s.description:""),y=Object(j.a)(v,2),k=y[0],N=y[1],w=Object(c.useState)(s?s.details:""),S=Object(j.a)(w,2),F=S[0],C=S[1],L=Object(c.useState)(s?s.sale:0),D=Object(j.a)(L,2),I=D[0],E=D[1],P=Object(c.useState)(s?s.stock:0),W=Object(j.a)(P,2),T=W[0],_=W[1],R=Object(c.useState)(s?s.src:""),A=Object(j.a)(R,2),B=A[0],H=A[1],M=Object(c.useState)({name:!1,description:!1,price:!1}),U=Object(j.a)(M,2),G=U[0],V=U[1],q=Object(c.useState)(!1),Y=Object(j.a)(q,2),Z=Y[0],$=Y[1],ee=Object(c.useState)(""),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],ce=Object(c.useState)(""),re=Object(j.a)(ce,2),se=re[0],oe=re[1],de=function(){var e=Object(J.a)(z.a.mark((function e(){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("/products/".concat(t.params.id));case 2:return e.next=4,e.sent.data.product;case 4:n=e.sent,o(n),p(n.name),g(n.price),N(n.description),C(n.details),E(n.sale),_(n.stock),H(n.src);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){Object(J.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=4;break}return console.log("start"),e.next=4,de();case 4:case"end":return e.stop()}}),e)})))()}),[]);var je=function(e,t){ae(e),oe(t),$(!0)};return Object(m.jsxs)(m.Fragment,{children:[s?Object(m.jsxs)(O.a,{container:!0,spacing:2,className:n.root,children:[Object(m.jsx)(O.a,{item:!0,xs:12,md:7,children:Object(m.jsx)(le,{_id:s._id,name:d,price:h,description:k,details:F,piecesLeft:T,promotion:I,src:B,active:!1})}),Object(m.jsx)(O.a,{item:!0,xs:12,md:5,children:Object(m.jsx)(kt,{name:d,description:k,details:F,promotion:I,price:h,pieces:T,src:B,removeImage:function(){H("")},change:function(e,t){switch(t){case ke.name:p(e.value),G.name&&V(Object(fe.a)(Object(fe.a)({},G),{},{name:!1}));break;case ke.desc:N(e.value),G.description&&V(Object(fe.a)(Object(fe.a)({},G),{},{description:!1}));break;case ke.details:C(e.value);break;case ke.prom:if(""===e.value){E(0);break}E(parseInt(e.value));break;case ke.price:if(""===e.value){g(0);break}g(parseInt(e.value)),G.price&&V(Object(fe.a)(Object(fe.a)({},G),{},{price:!1}));break;case ke.stock:if(""===e.value){_(0);break}_(parseInt(e.value));break;case ke.src:"files"in e&&function(e){var t=new FileReader;e&&(t.readAsDataURL(e),t.onload=function(){var e=t.result;H(e)})}(e.files[0])}},reset:function(){p(s.name),g(s.price),_(s.stock),E(s.sale),N(s.description),C(s.details),H(s.src),V({name:!1,price:!1,description:!1})},update:function(e){e.preventDefault();var t,n={name:d,price:h,description:k,details:F,sale:I,stock:T,src:B};if(s){var c={name:(t=s).name,price:t.price,description:t.description,details:t.details,sale:t.sale,stock:t.stock,src:t.src};JSON.stringify(c)==JSON.stringify(n)?(a(Q()),a(K({message:"No updates registered",variant:"info"}))):B?(a(ie(s._id,n)),de()):je(it,st)}},fieldWarnings:G,checkFields:function(){if(d&&k&&h)return!0;var e=Object(fe.a)({},G);return d||(e.name=!0),k||(e.description=!0),h||(e.price=!0),V(e),!1},openDialog:je})})]}):Object(m.jsx)(O.a,{container:!0,className:n.loading,children:Object(m.jsx)(ue.a,{})}),Object(m.jsx)(Ot,{open:Z,title:ne,content:se,yes:function(){var e={name:d,price:h,description:k,details:F,sale:I,stock:T,src:B};a(ie(s._id,e)),de()},setOpen:$})]})},St=function(e){return Object(m.jsx)("div",{children:"Account info"})},Ft=function(e){return Object(m.jsx)("div",{children:"Login"})},Ct=function(e){return Object(m.jsx)("div",{children:"Register"})},Lt=n(242),Dt=n(241);function It(e){return Object(m.jsx)(Dt.a,Object(fe.a)({elevation:6,variant:"filled"},e))}var Et=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.snackbar})),n=function(t,n){"clickaway"!==n&&e(Q())},a=Object(c.useState)(!0),r=Object(j.a)(a,2),i=r[0],s=r[1];return Object(m.jsxs)(p.a,{children:[Object(m.jsx)(tt,{isVisible:i}),Object(m.jsxs)(O.a,{container:!0,children:[Object(m.jsx)(O.a,{item:!0,xs:!1,md:1,lg:2}),Object(m.jsxs)(O.a,{item:!0,xs:12,md:10,lg:8,children:[Object(m.jsxs)(b.c,{children:[Object(m.jsx)(b.a,{exact:!0,path:"/",component:be}),Object(m.jsx)(b.a,{exact:!0,path:"/admin",component:be}),Object(m.jsx)(b.a,{exact:!0,path:"/admin/add-product",component:mt}),Object(m.jsx)(b.a,{path:"/admin/product/:id",component:wt}),Object(m.jsx)(b.a,{path:"/account",component:St}),Object(m.jsx)(b.a,{path:"/login",component:Ft}),Object(m.jsx)(b.a,{path:"/register",component:Ct}),Object(m.jsx)(b.a,{path:"*",children:Object(m.jsx)(f,{showNav:s})})]}),Object(m.jsx)(Lt.a,{open:t.open,autoHideDuration:4e3,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(m.jsx)(It,{onClose:n,severity:t.variant,children:t.message})})]}),Object(m.jsx)(O.a,{item:!0,xs:!1,md:1,lg:2})]})]})},Pt=(n(167),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsx)(Et,{})}}]),n}(c.Component)),Wt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,244)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},Tt=n(45),_t=n(116),Rt=n(118),At=Object(Tt.c)({isLogged:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":e=!0;break;case"LOGOUT":e=!1}return e},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET":return t.payload;case"ADD-PRODUCT":return[].concat(Object(Rt.a)(e),[t.payload]);case"UPDATE":return console.log(t.payload),e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"DELETE":return e.filter((function(e){return e._id!==t.payload}));default:return e}},productsAreLoaded:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADED":return!0;case"DUMP":return!1;default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1,message:"",variant:"info"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW":return Object(fe.a)({open:!0},t.payload);case"HIDE":return Object(fe.a)(Object(fe.a)({},e),{},{open:!1});default:return e}}}),Bt=Object(Tt.e)(At,Object(Tt.d)(Object(Tt.a)(_t.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(x.a,{store:Bt,children:Object(m.jsx)(Pt,{})})}),document.getElementById("root")),Wt()}},[[168,1,2]]]);
//# sourceMappingURL=main.abdac171.chunk.js.map